# ğŸ“ é¡¹ç›®ç»“æ„è¯´æ˜

## å‰ç«¯é¡¹ç›®ç»“æ„

```
China_History_frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ services/              # ğŸ†• API æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ api.ts            # HTTP è¯·æ±‚å°è£…
â”‚   â”‚   â””â”€â”€ auth.ts           # è®¤è¯ç›¸å…³ API
â”‚   â”‚
â”‚   â”œâ”€â”€ contexts/              # React Context
â”‚   â”‚   â””â”€â”€ AuthContext.tsx   # ğŸ”„ è®¤è¯ä¸Šä¸‹æ–‡ï¼ˆå·²æ›´æ–°ï¼‰
â”‚   â”‚
â”‚   â”œâ”€â”€ pages/                 # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.tsx         # ğŸ”„ ç™»å½•é¡µé¢ï¼ˆå·²æ›´æ–°ï¼‰
â”‚   â”‚   â”œâ”€â”€ Register.tsx      # ğŸ”„ æ³¨å†Œé¡µé¢ï¼ˆå·²æ›´æ–°ï¼‰
â”‚   â”‚   â”œâ”€â”€ Index.tsx         # é¦–é¡µ
â”‚   â”‚   â”œâ”€â”€ Profile.tsx       # ä¸ªäººä¸­å¿ƒ
â”‚   â”‚   â”œâ”€â”€ Dynasties.tsx     # æœä»£åˆ—è¡¨
â”‚   â”‚   â”œâ”€â”€ Events.tsx        # å†å²äº‹ä»¶
â”‚   â”‚   â”œâ”€â”€ Figures.tsx       # å†å²äººç‰©
â”‚   â”‚   â”œâ”€â”€ AIAssistant.tsx   # AI åŠ©æ‰‹
â”‚   â”‚   â””â”€â”€ NotFound.tsx      # 404 é¡µé¢
â”‚   â”‚
â”‚   â”œâ”€â”€ components/            # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ ui/               # UI ç»„ä»¶åº“ï¼ˆshadcn/uiï¼‰
â”‚   â”‚   â”œâ”€â”€ layout/           # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ home/             # é¦–é¡µç»„ä»¶
â”‚   â”‚   â””â”€â”€ NavLink.tsx       # å¯¼èˆªé“¾æ¥
â”‚   â”‚
â”‚   â”œâ”€â”€ hooks/                 # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â”œâ”€â”€ use-toast.ts      # Toast æç¤º
â”‚   â”‚   â””â”€â”€ use-mobile.tsx    # ç§»åŠ¨ç«¯æ£€æµ‹
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/                   # å·¥å…·åº“
â”‚   â”‚   â””â”€â”€ utils.ts          # å·¥å…·å‡½æ•°
â”‚   â”‚
â”‚   â”œâ”€â”€ data/                  # é™æ€æ•°æ®
â”‚   â”‚   â”œâ”€â”€ dynasties.ts      # æœä»£æ•°æ®
â”‚   â”‚   â”œâ”€â”€ events.ts         # äº‹ä»¶æ•°æ®
â”‚   â”‚   â””â”€â”€ figures.ts        # äººç‰©æ•°æ®
â”‚   â”‚
â”‚   â”œâ”€â”€ assets/                # é™æ€èµ„æº
â”‚   â”‚   â””â”€â”€ hero-bg.jpg       # èƒŒæ™¯å›¾ç‰‡
â”‚   â”‚
â”‚   â”œâ”€â”€ App.tsx                # åº”ç”¨ä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ main.tsx               # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css              # å…¨å±€æ ·å¼
â”‚
â”œâ”€â”€ public/                    # å…¬å…±èµ„æº
â”‚
â”œâ”€â”€ .env.development          # ğŸ†• å¼€å‘ç¯å¢ƒé…ç½®
â”œâ”€â”€ .env.production           # ğŸ†• ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ vite.config.ts            # ğŸ”„ Vite é…ç½®ï¼ˆå·²æ›´æ–°ä»£ç†ï¼‰
â”œâ”€â”€ package.json              # é¡¹ç›®ä¾èµ–
â”œâ”€â”€ tsconfig.json             # TypeScript é…ç½®
â”œâ”€â”€ tailwind.config.ts        # Tailwind CSS é…ç½®
â”‚
â”œâ”€â”€ test-api.html             # ğŸ†• API æµ‹è¯•å·¥å…·
â”œâ”€â”€ API_INTEGRATION.md        # ğŸ†• API å¯¹æ¥æ–‡æ¡£
â”œâ”€â”€ QUICK_START.md            # ğŸ†• å¿«é€Ÿå¯åŠ¨æŒ‡å—
â”œâ”€â”€ INTEGRATION_SUMMARY.md    # ğŸ†• å®ç°æ€»ç»“
â”œâ”€â”€ CHECKLIST.md              # ğŸ†• æµ‹è¯•æ£€æŸ¥æ¸…å•
â”œâ”€â”€ å‰åç«¯è”è°ƒè¯´æ˜.md          # ğŸ†• è”è°ƒè¯´æ˜
â””â”€â”€ README.md                 # é¡¹ç›®è¯´æ˜
```

## åç«¯é¡¹ç›®ç»“æ„

```
China_History/
â”œâ”€â”€ src/main/java/com/history/
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ UserController.java      # ç”¨æˆ·è®¤è¯æ§åˆ¶å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ UserService.java         # ç”¨æˆ·æœåŠ¡æ¥å£
â”‚   â”‚   â””â”€â”€ impl/
â”‚   â”‚       â””â”€â”€ UserServiceImpl.java # ç”¨æˆ·æœåŠ¡å®ç°
â”‚   â”‚
â”‚   â”œâ”€â”€ mapper/
â”‚   â”‚   â””â”€â”€ UserMapper.java          # ç”¨æˆ·æ•°æ®è®¿é—®å±‚
â”‚   â”‚
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”œâ”€â”€ entity/
â”‚   â”‚   â”‚   â””â”€â”€ User.java            # ç”¨æˆ·å®ä½“
â”‚   â”‚   â”œâ”€â”€ dto/
â”‚   â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginDTO.java    # ç™»å½• DTO
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ RegisterDTO.java # æ³¨å†Œ DTO
â”‚   â”‚   â””â”€â”€ vo/
â”‚   â”‚       â”œâ”€â”€ LoginVO.java         # ç™»å½•è¿”å› VO
â”‚   â”‚       â””â”€â”€ UserVO.java          # ç”¨æˆ·ä¿¡æ¯ VO
â”‚   â”‚
â”‚   â”œâ”€â”€ common/
â”‚   â”‚   â””â”€â”€ result/
â”‚   â”‚       â””â”€â”€ Result.java          # ç»Ÿä¸€å“åº”ç»“æœ
â”‚   â”‚
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â”œâ”€â”€ WebConfig.java           # Web é…ç½®ï¼ˆCORSï¼‰
â”‚   â”‚   â””â”€â”€ JwtConfig.java           # JWT é…ç½®
â”‚   â”‚
â”‚   â””â”€â”€ ChinaHistoryApplication.java # åº”ç”¨å¯åŠ¨ç±»
â”‚
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ application.yml              # åº”ç”¨é…ç½®
â”‚   â”œâ”€â”€ application-dev.yml          # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ mapper/
â”‚       â””â”€â”€ UserMapper.xml           # MyBatis æ˜ å°„æ–‡ä»¶
â”‚
â”œâ”€â”€ sql/                             # SQL è„šæœ¬
â”œâ”€â”€ pom.xml                          # Maven é…ç½®
â””â”€â”€ README.md                        # é¡¹ç›®è¯´æ˜
```

## ğŸ”‘ å…³é”®æ–‡ä»¶è¯´æ˜

### å‰ç«¯æ ¸å¿ƒæ–‡ä»¶

#### 1. `src/services/api.ts`
- HTTP è¯·æ±‚å°è£…
- è‡ªåŠ¨æ·»åŠ  Token
- ç»Ÿä¸€é”™è¯¯å¤„ç†
- æ”¯æŒ GETã€POSTã€PUTã€DELETE

#### 2. `src/services/auth.ts`
- æ³¨å†Œæ¥å£ï¼š`register(data: RegisterDTO)`
- ç™»å½•æ¥å£ï¼š`login(data: LoginDTO)`
- TypeScript ç±»å‹å®šä¹‰

#### 3. `src/contexts/AuthContext.tsx`
- å…¨å±€è®¤è¯çŠ¶æ€ç®¡ç†
- ç™»å½•/é€€å‡ºåŠŸèƒ½
- Token æŒä¹…åŒ–
- è‡ªåŠ¨æ¢å¤ç™»å½•çŠ¶æ€

#### 4. `vite.config.ts`
- å¼€å‘æœåŠ¡å™¨é…ç½®
- ä»£ç†é…ç½®ï¼ˆè§£å†³è·¨åŸŸï¼‰
- è·¯å¾„åˆ«åé…ç½®

### åç«¯æ ¸å¿ƒæ–‡ä»¶

#### 1. `UserController.java`
- `/api/auth/register` - æ³¨å†Œæ¥å£
- `/api/auth/login` - ç™»å½•æ¥å£

#### 2. `Result.java`
- ç»Ÿä¸€å“åº”æ ¼å¼
- code: 0-æˆåŠŸ, 1-å¤±è´¥
- msg: å“åº”æ¶ˆæ¯
- data: ä¸šåŠ¡æ•°æ®

#### 3. `WebConfig.java`
- CORS è·¨åŸŸé…ç½®
- å…è®¸æ‰€æœ‰æ¥æºè®¿é—®

## ğŸ“Š æ•°æ®æµå‘

### æ³¨å†Œæµç¨‹
```
ç”¨æˆ·å¡«å†™è¡¨å•
    â†“
Register.tsx éªŒè¯è¡¨å•
    â†“
authService.register() å‘é€è¯·æ±‚
    â†“
api.ts å°è£…è¯·æ±‚ï¼ˆæ·»åŠ  headersï¼‰
    â†“
Vite ä»£ç†è½¬å‘åˆ°åç«¯
    â†“
UserController.register() æ¥æ”¶è¯·æ±‚
    â†“
UserService.register() ä¸šåŠ¡å¤„ç†
    â†“
UserMapper æ•°æ®åº“æ“ä½œ
    â†“
è¿”å› Result<UserVO>
    â†“
å‰ç«¯æ¥æ”¶å“åº”
    â†“
æ˜¾ç¤ºæˆåŠŸæç¤ºï¼Œè·³è½¬ç™»å½•é¡µ
```

### ç™»å½•æµç¨‹
```
ç”¨æˆ·å¡«å†™è¡¨å•
    â†“
Login.tsx éªŒè¯è¡¨å•
    â†“
AuthContext.login() è°ƒç”¨ç™»å½•
    â†“
authService.login() å‘é€è¯·æ±‚
    â†“
api.ts å°è£…è¯·æ±‚
    â†“
Vite ä»£ç†è½¬å‘åˆ°åç«¯
    â†“
UserController.login() æ¥æ”¶è¯·æ±‚
    â†“
UserService.login() éªŒè¯ç”¨æˆ·
    â†“
ç”Ÿæˆ JWT Token
    â†“
è¿”å› Result<LoginVO>
    â†“
å‰ç«¯æ¥æ”¶å“åº”
    â†“
ä¿å­˜ Token åˆ° localStorage
    â†“
æ›´æ–°å…¨å±€è®¤è¯çŠ¶æ€
    â†“
è·³è½¬åˆ°é¦–é¡µ
```

### åç»­è¯·æ±‚æµç¨‹
```
ç”¨æˆ·æ“ä½œè§¦å‘è¯·æ±‚
    â†“
è°ƒç”¨ API æ–¹æ³•
    â†“
api.ts è‡ªåŠ¨ä» localStorage è¯»å– Token
    â†“
æ·»åŠ  Authorization header
    â†“
å‘é€è¯·æ±‚åˆ°åç«¯
    â†“
åç«¯éªŒè¯ Token
    â†“
è¿”å›æ•°æ®
```

## ğŸ¯ æ–‡ä»¶å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   å‰ç«¯åº”ç”¨                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Login.tsx    â”‚      â”‚ Register.tsx â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚         â”‚                     â”‚                â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                    â”‚                           â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚  AuthContext.tsx     â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                    â”‚                           â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚  services/auth.ts    â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                    â”‚                           â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚         â”‚  services/api.ts     â”‚               â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                    â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â”‚ HTTP Request
                     â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   Vite Proxy (/api)    â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  åç«¯åº”ç”¨                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                 â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚         â”‚  UserController      â”‚                â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                    â”‚                            â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚         â”‚  UserService         â”‚                â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                    â”‚                            â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚         â”‚  UserMapper          â”‚                â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                    â”‚                            â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚         â”‚  MySQL Database      â”‚                â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### `.env.development`
```env
VITE_API_BASE_URL=http://localhost:8080/api
```
å¼€å‘ç¯å¢ƒçš„ API åœ°å€é…ç½®

### `.env.production`
```env
VITE_API_BASE_URL=https://your-domain.com/api
```
ç”Ÿäº§ç¯å¢ƒçš„ API åœ°å€é…ç½®

### `vite.config.ts`
```typescript
proxy: {
  '/api': {
    target: 'http://localhost:8080',
    changeOrigin: true,
  }
}
```
å¼€å‘ç¯å¢ƒä»£ç†é…ç½®ï¼Œè§£å†³è·¨åŸŸé—®é¢˜

## ğŸ“ å‘½åè§„èŒƒ

### å‰ç«¯
- ç»„ä»¶æ–‡ä»¶ï¼šPascalCaseï¼ˆå¦‚ `Login.tsx`ï¼‰
- å·¥å…·æ–‡ä»¶ï¼šcamelCaseï¼ˆå¦‚ `api.ts`ï¼‰
- ç±»å‹å®šä¹‰ï¼šPascalCase + åç¼€ï¼ˆå¦‚ `LoginDTO`ã€`UserVO`ï¼‰
- å‡½æ•°ï¼šcamelCaseï¼ˆå¦‚ `login()`ã€`register()`ï¼‰

### åç«¯
- ç±»åï¼šPascalCaseï¼ˆå¦‚ `UserController`ï¼‰
- æ–¹æ³•åï¼šcamelCaseï¼ˆå¦‚ `login()`ã€`register()`ï¼‰
- åŒ…åï¼šå°å†™ï¼ˆå¦‚ `com.history.controller`ï¼‰

## ğŸ¨ æŠ€æœ¯æ ˆ

### å‰ç«¯
- React 18
- TypeScript
- Vite
- React Router
- Tailwind CSS
- shadcn/ui
- React Hook Form
- Zod

### åç«¯
- Spring Boot 3
- MyBatis
- MySQL
- JWT
- Lombok
- Maven

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [å¿«é€Ÿå¯åŠ¨æŒ‡å—](./QUICK_START.md)
- [API å¯¹æ¥æ–‡æ¡£](./API_INTEGRATION.md)
- [å®ç°æ€»ç»“](./INTEGRATION_SUMMARY.md)
- [æµ‹è¯•æ£€æŸ¥æ¸…å•](./CHECKLIST.md)
